@use "./base.scss";

// put your custom CSS here!

// Recent

.recent-notes {
    margin: 0 0 1em;
}
div.recent-notes > h3 {
    font-size: var(--t6);
}
div.recent-notes > ul.recent-ul > li {
    margin: 0.75em 0;
}
.recent-notes .desc p {
    margin: 0;
}
.recent-notes .tags {
    display: none;
}

// Dark Mode Toggle

div.darkmode {
    display: inline-block;
    width: 2.5em;
    height: 2.5em;
    margin: 0.5em -0.5em 0.5em 0;
    transition: background-color 0.5s;
    border-radius: var(--r3);
}
div.darkmode:hover {
    background-color: var(--lightgray);
}
div.darkmode svg {
    width: 1.5em;
    height: 1.5em;
    padding: 0.5em;
    fill: currentColor;
    top: unset;
}
#toggle-label-dark svg path {
    stroke-linecap: butt;
}
div.darkmode svg#dayIcon {
    stroke-width: 1.5px;
}


// Footer

body footer > :first-child {
    line-height: 125%;
    margin-top: 0;
}
body footer ul {
    flex-wrap: wrap;
    gap: unset;
    margin: -0.5em -1em 0 0;
}
body footer ul > * {
    margin-right: 1em;
}
body footer a {
    color: var(--gray);
}

// Mermaid
svg[id^="mermaid"] {
    fill: var(--dark) !important;

    // Text
    &,
    .label,
    .pieTitleText,
    .legend text,
    .slice {
        font-family: var(--bodyFont) !important;
    }
    p {
        line-height: inherit !important;
        margin: 0 !important;
    }
    .label text,
    span,
    p,
    .pieTitleText,
    .legend text,
    .slice {
        fill: var(--dark) !important;
        color: var(--dark) !important;
    }
    .edgeLabel,
    .labelBkg {
        background-color: var(--light) !important;
    }
    .pieTitleText {
        font-size: 20px !important;
    }
    .legend text,
    .slice {
        font-size: 16px !important;
    }

    // Shapes
    .cluster rect,
    .node rect,
    .node circle,
    .node ellipse,
    .node polygon,
    .node path,
    .pieCircle,
    .pieOuterCircle,
    .section-root circle,
    [class*="section"] line,
    [class*="section"] rect,
    [class*="section"] path.node-bang,
    [class*="section"] path.node-cloud,
    [class*="section"] polygon {
        stroke-width: 2px !important;
    }
    .node rect,
    .node circle,
    .node ellipse,
    .node polygon,
    .node path,
    .pieCircle,
    .pieOuterCircle,
    .section-root circle,
    [class*="section"] line,
    [class*="section"] rect,
    [class*="section"] path.node-bang,
    [class*="section"] path.node-cloud,
    [class*="section"] polygon {
        stroke: var(--dark) !important;
    }
    .cluster rect {
        stroke: var(--lightgray) !important;
    }
    .cluster rect,
    .section-root circle,
    [class*="section"] path,
    [class*="section"] rect,
    [class*="section"] polygon {
        fill: var(--light) !important;
    }
    .node rect,
    .node circle,
    .node ellipse,
    .node polygon,
    .node path {
        fill: var(--lightgray) !important;
    }
    .pieCircle {
        opacity: 1 !important;
    }
    .legend rect {
        stroke: rgba(0,0,0,0.2) !important;
    }

    // Connections
    .flowchart-link,
    [class*="edge-depth"],
    .marker {
        stroke: var(--dark) !important;
    }
    .edge-thickness-normal,
    [class*="edge-depth"] {
        stroke-width: 2px !important;
    }
    .marker,
    [class*="section"] text {
        fill: var(--dark) !important;
    }
    .edge-pattern-dotted {
        stroke-dasharray: 4px 2px !important;
    }
}

// Code Fences

pre {
    padding: 0;
    border: none;
    border-radius: 0;
}
pre code:not(.mermaid) {
    padding: 1.5em;
    border: 1px solid var(--lightgray);
    border-radius: var(--r5);
}
button.clipboard-button {
    font-size: 1rem;
    padding: 0.5625em;
    margin: 0.25em;
    border: none;
    border-radius: var(--r3);
    transition: background-color 0.2s;
}
button.clipboard-button:hover {
    background-color: var(--lightgray);
}
button.clipboard-button > svg {
    filter: contrast(1);
    width: 1.375em;
    height: 1.375em;
}
button.clipboard-button > svg > path {
    fill: var(--dark) !important;
}

// Tags/Folder Page

body[data-slug^="Notes"] h1.article-title,
body[data-slug*="tags"] h1.article-title,
body[data-slug*="index"] h1.article-title {
    margin-top: 0.375em;
}
body[data-slug*="/index"] .center h2 {
    margin-top: 2.5rem;
    margin-bottom: 0.25rem;
}
body[data-slug*="/index"] .center h2 a.tag-link {
    padding: 0;
    margin: 0;
    color: var(--dark);
    background: none;
}
body[data-slug*="/index"] .center h2 + p {
    margin-top: 0.25rem;
}
body[data-slug^="Notes"] ul.section-ul,
body[data-slug*="tags"] ul.section-ul,
body[data-slug*="index"] ul.section-ul {
    margin: 2.5em 0 0;
}
body[data-slug^="Notes"] li.section-li:not(:last-child),
body[data-slug*="tags"] li.section-li:not(:last-child),
body[data-slug*="index"] li.section-li:not(:last-child) {
    margin-bottom: 2.5em;
}
body[data-slug^="Notes"] li.section-li > .section,
body[data-slug*="tags"] li.section-li > .section,
body[data-slug*="index"] li.section-li > .section {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;
}
body[data-slug^="Notes"] li.section-li > .section > .meta,
body[data-slug*="tags"] li.section-li > .section > .meta,
body[data-slug*="index"] li.section-li > .section > .meta {
    flex: 1 0 auto;
    margin: 0 1em 0.25em 0;
    opacity: 1;
}
body[data-slug^="Notes"] li.section-li > .section > .desc,
body[data-slug*="tags"] li.section-li > .section > .desc,
body[data-slug*="index"] li.section-li > .section > .desc {
    flex: 3 1 12em;
}
body[data-slug^="Notes"] li.section-li > .section > .desc > h3,
body[data-slug*="tags"] li.section-li > .section > .desc > h3,
body[data-slug*="index"] li.section-li > .section > .desc > h3 {
    font-size: var(--t5);
}
body[data-slug^="Notes"] li.section-li > .section > .desc > h3 > a,
body[data-slug*="tags"] li.section-li > .section > .desc > h3 > a,
body[data-slug*="index"] li.section-li > .section > .desc > h3 > a {
    margin-left: -0.125em;
    color: var(--dark);
}
body[data-slug^="Notes"] li.section-li > .section > .tags,
body[data-slug*="tags"] li.section-li > .section > .tags,
body[data-slug*="index"] li.section-li > .section > .tags {
    flex: 3 1 12em;
    padding: 0;
}

// Footnotes

section.footnotes {
    margin-top: 2.5em;
    border: none;
}
#footnote-label {
    font-size: var(--t6);
}
a.internal[aria-describedby="footnote-label"] {
    line-height: 100%;
    padding: 0.125em 0.375em 0.25em;
    vertical-align: -0.3125em;
}
a.data-footnote-backref.internal {
    line-height: 100%;
    padding: 0.125em 0.125em 0;
    vertical-align: -0.125em;
}
p sup {
    line-height: 0;
}

// Table of Contents

div.toc {
    #toc {
        font-size: unset;
        pointer-events: none;
        h3 {
            font-size: var(--t6);
        }
        .fold {
            display: none;
        }
    }
    #toc-content ul {
        padding-left: 0;
        margin: 1rem 0 1.75rem;
        li {
            --tocPadding: 1.125rem;
            margin-bottom: 0.75rem;
            a {
                text-decoration: none;
                opacity: 1;
            }
        }
        li:not(.depth-0) {
            padding-left: var(--tocPadding);
        }
        li.depth-2 {
            padding-left: calc(var(--tocPadding) * 2);
        }
        li.depth-3 {
            padding-left: calc(var(--tocPadding) * 3);
        }
        li.depth-4 {
            padding-left: calc(var(--tocPadding) * 4);
        }
    }
}